<main>
 <section id="one-page-side-menu-static" class="one-page-side-menu-static side-menu">
 <div class="content-wrapper">
<%= render :partial => "/layouts/left_panel" %>
<%= render :partial => "/layouts/header" %>
<section class="account section" style="min-height:575px;">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
      <h1>Settings</h1>
      </div>
    </div>
    <div class="form-horizontal">
      <div class="col-md-12">
        <h1>Add Your Social Accounts</h1>
      </div>
      <div class="row">
        <div class="col-sm-8">
          <%= form_for @new_social_account,:url=>influencer_add_social_account_details_path,:method =>"post" do |f|%>
          <%=f.hidden_field:influencer_id,:value=>current_influencer.id%>
          <div class="form-group">
            <label class="control-label col-md-5" for="">Platform type</label>
            <div class="col-md-7">
              <%= f.select :platform_type,options_for_select(Influencer::PLATFORMS),{:prompt=>"-Select Platform-", :required=>true},:class=>"form-control"%>
            </div>
          </div>

          <!-- <div class="form-group">
            <label class="control-label col-md-5" for="">Profile ID</label>
            <div class="col-md-7">
              <%#= f.text_field:facebook_profile_id,:placeholder=>"Facebook page name for eg ServiceDealz",:class=>"form-control", :required=>true%>
            </div>
          </div> -->

          <div class="form-group">
            <label class="control-label col-md-5" for="">Page ID</label>
            <div class="col-md-7">
              <%= f.text_field:facebook_page_id,:placeholder=>"Facebook page ID",:class=>"form-control", :required=>true,:onkeyup=>"check_for_number(this)"%>
              <span id="error-cross" class="fa fa-remove 2x form-control-feedback hidden" style="margin:3%;color:red"></span>
              <span id="check-cross" class="fa fa-check 2x form-control-feedback hidden" style="margin:3%;color:green"></span>
             </div>
          </div>

          <div class="form-group">
            <label class="control-label col-md-4"></label>
            <div class="col-md-8">
              <%= f.submit("Save", :class=>"btn btn-primary")%>
            </div>
          </div>

          <%end%>
        </div>
      </div>

        <div class="col-md-12 table-responsive">
          <table class="table table-striped">
            <tr>
              <th>Image</th>
              <th>Platform Type</th>
              <th>Likes</th>
              <th>Page Id</th>
           </tr>
            <%if @social_account.present?%>

               <tr>
                <td><img src="<%=@social_account.facebook_image_url%>" /></td>
                <td><%=Advertisement::PLATFORMS.key(@social_account.platform_type)%></td>
                <td><%=@social_account.facebook_page_count%></td>
                <td><%=@social_account.facebook_page_id%></td>
               <tr>

            <%end%>
          </table>
        </div>
      </div>
  </div>
  </section>

  </div>
  </section>
  </main>
<script>
function check_for_number(obj) {
   if(isNaN(obj.value[obj.value.length-1])){
    $("#error-cross").removeClass("hidden");
    $("#check-cross").addClass("hidden");
  }
  else {
   $("#error-cross").addClass("hidden");
   $("#check-cross").removeClass("hidden");
  }
}
</script>
